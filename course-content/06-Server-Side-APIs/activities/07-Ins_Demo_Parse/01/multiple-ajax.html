<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Multiple AJAX</title>
</head>

<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript">
    // Performing GET requests to the OMDB API and logging the responses to the console
    $.ajax({
      url: "https://www.omdbapi.com/?t=romancing+the+stone&y=&plot=short&apikey=trilogy",
      method: "GET"
    }).then(function(response) {
      console.log(response);
    });

    $.ajax({
      url: "https://www.omdbapi.com/?t=the+revenant&y=&plot=short&apikey=trilogy",
      method: "GET"
    }).then(function(response) {
      console.log(response);
    });

    $.ajax({
      url: "https://www.omdbapi.com/?t=godfather&y=&plot=short&apikey=trilogy",
      method: "GET"
    }).then(function(response) {
      console.log(response);
    });

    $.ajax({
      url: "https://www.omdbapi.com/?t=space+jam&y=&plot=short&apikey=trilogy",
      method: "GET"
    }).then(function(response) {
      console.log(response);
    });

    $.ajax({
      url: "https://www.omdbapi.com/?t=boiler+room&y=&plot=short&apikey=trilogy",
      method: "GET"
    }).then(function(response) {
      console.log(response);
    });

    $.ajax({
      url: "https://www.omdbapi.com/?t=inception&y=&plot=short&apikey=trilogy",
      method: "GET"
    }).then(function(response) {
      console.log(response);
    });

    $.ajax({
      url: "https://www.omdbapi.com/?t=the+dark+night&y=&plot=short&apikey=trilogy",
      method: "GET"
    }).then(function(response) {
      console.log(response);
    });
// ---------------------------------------------------------

// Attempting to assign the return value of a function that makes an AJAX request
  function makeCall(movieName){
    $.ajax({
    url: "https://www.omdbapi.com/?t=" + movieName + "&plot=short&apikey=trilogy",
    method: "GET"
      }).then(function(response) {

        console.log(response);
        return response;
    });
  }
  var movieArr = ["The Dark night", "Goonies"]
  for(var i = 0; i < movieArr.length; i ++){
     makeCall(movieArr[i]);
  };

  var movieInfo = makeCall("Mean Girls");
  console.log("movieInfo", movieInfo) // movieInfo undefined

// ---------------------------------------------------------

// Equipping a function with a Callback to execute once the work is done 
  function makeCallWithCallBack(movieName, cb){
    $.ajax({
    url: "https://www.omdbapi.com/?t=" + movieName + "&plot=short&apikey=trilogy",
    method: "GET"
      }).then(function(response) {
        console.log(response);
        cb(response);
    });
  }



  makeCallWithCallBack("Mean Girls", function(arg){
    console.log("movieInfo", arg)
  });

<<<<<<< HEAD
=======
  makeCallWithCallBack("Goonies", function(arg){
    console.log("movieInfos", arg)
  });

>>>>>>> dd4ff54bc105d41f6cecaca24114688583380f4b

console.log("Because our AJAX requests are asynchronous, this line of code will most likely log first");
  
  </script>

</body>

</html>
